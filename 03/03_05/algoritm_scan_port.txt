
Алгоритм сканирования портов

Последовательность шагов

1. Для начала мы должны знать IP адрес сетевого узла, который мы хотим просканировать. При этом данный сетевой узел должен в сети быть физически доступен нам.

2. Мы должны определиться, какие порты какого протокола сканируем: TCP или UDP. Nmap по умолчанию сканирует TCP порты. Если нам нужно сканировать UDP порты, то следует использовать ключ -sU.

3. Если мы выбрали сканировать TCP порты, то мы должны определиться, какую методику сканирования выберем:

    TCP-SYN сканирование (-sS): сканирование, при котором устанавливается неполное TCP соединение. Из плюсов: данный метод позволяет быстро сканировать порты и при этом оставаться относительно скрытным из-за самой особенности неполного установления соединения. Из минусов: данный тип сканирования не гарантирует достоверность информации о соединении портов, так как соединение не устанавливается полноценно и на деле сетевой порт может блокировать установленное соединение. Данный метод сканирование используется nmap по умолчанию, если оно запускается с правами суперпользователя или администратора.
    Полное TCP сканирование с использованием системного вызова connect (-sT): сканирование, при котором устанавливается полноценное TCP соединение по указанному порту с помощью системного вызова connect. Из плюсов: данный тип сканирования даёт достоверную информацию о состоянии сетевых портов за счёт установленного полноценного соединения. Из минусов: данный метод сканирования сильно медленен, что ощутимо при сканировании большого количества сетевых портов. Данный метод сканирования используется nmap по умолчанию, если оно запускается с правами обычного пользователя.

4. Проведём само сканирование следующими командами:

    nmap -sS <example.com> – TCP-SYN сканирование узла
    nmap -sT <example.com> – полное TCP сканирование узла
    nmap -sU <example.com> – UDP сканирование узла


Когда и как применять сканирование портов?

Данная техника направлена на сбор актуальной информации о сетевых портах исследуемого узла. Если бы мы занялись пассивным сканированием сетевых портов, то тогда не выдали бы факт исследования узла, но при этом не были бы полностью уверенны в актуальности результата. Если важна актуальность – выбираем активное сканирование портов, а если скрытность – пассивное сканирование сетевых портов.
